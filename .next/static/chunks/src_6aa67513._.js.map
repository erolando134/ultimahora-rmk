{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LachiPro/Documents/UltimaHoraFirebase/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LachiPro/Documents/UltimaHoraFirebase/src/components/ui/card.tsx"],"sourcesContent":["// src/components/ui/card.tsx\r\n\r\nimport * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCard.displayName = \"Card\";\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardHeader.displayName = \"CardHeader\";\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCardTitle.displayName = \"CardTitle\";\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardDescription.displayName = \"CardDescription\";\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n));\r\nCardContent.displayName = \"CardContent\";\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardFooter.displayName = \"CardFooter\";\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardDescription,\r\n  CardContent,\r\n};\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;;;;;AAE7B;AACA;;;;AAEA,MAAM,qBAAO,6JAAA,CAAA,aAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,6JAAA,CAAA,aAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,6JAAA,CAAA,aAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,6JAAA,CAAA,aAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,6JAAA,CAAA,aAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,6JAAA,CAAA,aAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LachiPro/Documents/UltimaHoraFirebase/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,6JAAA,CAAA,aAAgB,MAC5B,QAAgC;QAA/B,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO;IAC5B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LachiPro/Documents/UltimaHoraFirebase/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background text-primary hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,6JAAA,CAAA,aAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LachiPro/Documents/UltimaHoraFirebase/src/hooks/use-toast.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\nimport type {\r\n  ToastActionElement,\r\n  ToastProps,\r\n} from \"@/components/ui/toast\";\r\n\r\nconst TOAST_LIMIT = 1;\r\nconst TOAST_REMOVE_DELAY = 10000;\r\n\r\ntype ToasterToast = ToastProps & {\r\n  id: string;\r\n  open?: boolean;\r\n  title?: React.ReactNode;\r\n  description?: React.ReactNode;\r\n  action?: ToastActionElement;\r\n};\r\n\r\nconst actionTypes = {\r\n  ADD_TOAST: \"ADD_TOAST\",\r\n  UPDATE_TOAST: \"UPDATE_TOAST\",\r\n  DISMISS_TOAST: \"DISMISS_TOAST\",\r\n  REMOVE_TOAST: \"REMOVE_TOAST\",\r\n} as const;\r\n\r\nlet count = 0;\r\n\r\nfunction genId() {\r\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\r\n  return count.toString();\r\n}\r\n\r\ntype Action =\r\n  | { type: \"ADD_TOAST\"; toast: ToasterToast }\r\n  | { type: \"UPDATE_TOAST\"; toast: Partial<ToasterToast> }\r\n  | { type: \"DISMISS_TOAST\"; toastId?: string }\r\n  | { type: \"REMOVE_TOAST\"; toastId?: string };\r\n\r\ninterface State {\r\n  toasts: ToasterToast[];\r\n}\r\n\r\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\r\n\r\nconst addToRemoveQueue = (toastId: string) => {\r\n  if (toastTimeouts.has(toastId)) return;\r\n\r\n  const timeout = setTimeout(() => {\r\n    toastTimeouts.delete(toastId);\r\n    dispatch({ type: \"REMOVE_TOAST\", toastId });\r\n  }, TOAST_REMOVE_DELAY);\r\n\r\n  toastTimeouts.set(toastId, timeout);\r\n};\r\n\r\nconst reducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\r\n      };\r\n    case \"UPDATE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\r\n        ),\r\n      };\r\n    case \"DISMISS_TOAST\": {\r\n      const { toastId } = action;\r\n      if (toastId) {\r\n        addToRemoveQueue(toastId);\r\n      } else {\r\n        state.toasts.forEach((toast) => addToRemoveQueue(toast.id));\r\n      }\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === toastId || toastId === undefined\r\n            ? { ...t, open: false }\r\n            : t\r\n        ),\r\n      };\r\n    }\r\n    case \"REMOVE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst listeners: Array<(state: State) => void> = [];\r\nlet memoryState: State = { toasts: [] };\r\n\r\nfunction dispatch(action: Action) {\r\n  memoryState = reducer(memoryState, action);\r\n  listeners.forEach((listener) => listener(memoryState));\r\n}\r\n\r\ntype Toast = Omit<ToasterToast, \"id\">;\r\n\r\nfunction toast(props: Toast) {\r\n  const id = genId();\r\n\r\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\r\n\r\n  dispatch({\r\n    type: \"ADD_TOAST\",\r\n    toast: {\r\n      ...props,\r\n      id,\r\n      open: true,\r\n      onOpenChange: (open: boolean) => {\r\n        if (!open) dismiss();\r\n      },\r\n    },\r\n  });\r\n\r\n  const update = (updated: Partial<ToasterToast>) =>\r\n    dispatch({\r\n      type: \"UPDATE_TOAST\",\r\n      toast: { ...updated, id },\r\n    });\r\n\r\n  return {\r\n    id,\r\n    dismiss,\r\n    update,\r\n  };\r\n}\r\n\r\nfunction useToast() {\r\n  const [state, setState] = React.useState<State>(memoryState);\r\n\r\n  React.useEffect(() => {\r\n    listeners.push(setState);\r\n    return () => {\r\n      const index = listeners.indexOf(setState);\r\n      if (index > -1) listeners.splice(index, 1);\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    ...state,\r\n    toast,\r\n    dismiss: (toastId?: string) =>\r\n      dispatch({ type: \"DISMISS_TOAST\", toastId }),\r\n  };\r\n}\r\n\r\nexport { useToast, toast };\r\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AASA,MAAM,cAAc;AACpB,MAAM,qBAAqB;AAU3B,MAAM,cAAc;IAClB,WAAW;IACX,cAAc;IACd,eAAe;IACf,cAAc;AAChB;AAEA,IAAI,QAAQ;AAEZ,SAAS;IACP,QAAQ,CAAC,QAAQ,CAAC,IAAI,OAAO,gBAAgB;IAC7C,OAAO,MAAM,QAAQ;AACvB;AAYA,MAAM,gBAAgB,IAAI;AAE1B,MAAM,mBAAmB,CAAC;IACxB,IAAI,cAAc,GAAG,CAAC,UAAU;IAEhC,MAAM,UAAU,WAAW;QACzB,cAAc,MAAM,CAAC;QACrB,SAAS;YAAE,MAAM;YAAgB;QAAQ;IAC3C,GAAG;IAEH,cAAc,GAAG,CAAC,SAAS;AAC7B;AAEA,MAAM,UAAU,CAAC,OAAc;IAC7B,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ;oBAAC,OAAO,KAAK;uBAAK,MAAM,MAAM;iBAAC,CAAC,KAAK,CAAC,GAAG;YACnD;QACF,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,OAAO,KAAK,CAAC,EAAE,GAAG;wBAAE,GAAG,CAAC;wBAAE,GAAG,OAAO,KAAK;oBAAC,IAAI;YAE3D;QACF,KAAK;YAAiB;gBACpB,MAAM,EAAE,OAAO,EAAE,GAAG;gBACpB,IAAI,SAAS;oBACX,iBAAiB;gBACnB,OAAO;oBACL,MAAM,MAAM,CAAC,OAAO,CAAC,CAAC,QAAU,iBAAiB,MAAM,EAAE;gBAC3D;gBACA,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,WAAW,YAAY,YAC5B;4BAAE,GAAG,CAAC;4BAAE,MAAM;wBAAM,IACpB;gBAER;YACF;QACA,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO;YAC5D;QACF;YACE,OAAO;IACX;AACF;AAEA,MAAM,YAA2C,EAAE;AACnD,IAAI,cAAqB;IAAE,QAAQ,EAAE;AAAC;AAEtC,SAAS,SAAS,MAAc;IAC9B,cAAc,QAAQ,aAAa;IACnC,UAAU,OAAO,CAAC,CAAC,WAAa,SAAS;AAC3C;AAIA,SAAS,MAAM,KAAY;IACzB,MAAM,KAAK;IAEX,MAAM,UAAU,IAAM,SAAS;YAAE,MAAM;YAAiB,SAAS;QAAG;IAEpE,SAAS;QACP,MAAM;QACN,OAAO;YACL,GAAG,KAAK;YACR;YACA,MAAM;YACN,cAAc,CAAC;gBACb,IAAI,CAAC,MAAM;YACb;QACF;IACF;IAEA,MAAM,SAAS,CAAC,UACd,SAAS;YACP,MAAM;YACN,OAAO;gBAAE,GAAG,OAAO;gBAAE;YAAG;QAC1B;IAEF,OAAO;QACL;QACA;QACA;IACF;AACF;AAEA,SAAS;;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,6JAAA,CAAA,WAAc,CAAQ;IAEhD,6JAAA,CAAA,YAAe;8BAAC;YACd,UAAU,IAAI,CAAC;YACf;sCAAO;oBACL,MAAM,QAAQ,UAAU,OAAO,CAAC;oBAChC,IAAI,QAAQ,CAAC,GAAG,UAAU,MAAM,CAAC,OAAO;gBAC1C;;QACF;6BAAG,EAAE;IAEL,OAAO;QACL,GAAG,KAAK;QACR;QACA,SAAS,CAAC,UACR,SAAS;gBAAE,MAAM;gBAAiB;YAAQ;IAC9C;AACF;GAjBS","debugId":null}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LachiPro/Documents/UltimaHoraFirebase/src/app/admin/solicitudes/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  query,\r\n  orderBy,\r\n  updateDoc,\r\n  doc,\r\n  Timestamp,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { db } from \"@/lib/firebase/firebase\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n  CardDescription,\r\n} from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { Loader2 } from \"lucide-react\";\r\n\r\ntype DepositRequest = {\r\n  id: string;\r\n  ci: string;\r\n  fullName: string;\r\n  modality: string;\r\n  status: \"pending\" | \"responded\";\r\n  createdAt: Timestamp;\r\n  cardNumber?: string;\r\n  phoneConfirm?: string;\r\n};\r\n\r\nexport default function SolicitudesAdminPage() {\r\n  const [requests, setRequests] = useState<DepositRequest[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { toast } = useToast();\r\n  const [updatingId, setUpdatingId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchRequests = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const q = query(\r\n          collection(db, \"depositRequests\"),\r\n          orderBy(\"createdAt\", \"desc\")\r\n        );\r\n        const snapshot = await getDocs(q);\r\n        const data: DepositRequest[] = snapshot.docs.map((docSnap) => ({\r\n          id: docSnap.id,\r\n          ...(docSnap.data() as Omit<DepositRequest, \"id\">),\r\n        }));\r\n        setRequests(data);\r\n      } catch (err) {\r\n        toast({\r\n          title: \"Error al cargar solicitudes\",\r\n          description: \"No se pudieron obtener las solicitudes desde Firestore.\",\r\n          variant: \"destructive\",\r\n        });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRequests();\r\n  }, []);\r\n\r\n  const handleResponder = async (\r\n    id: string,\r\n    cardNumber: string,\r\n    phoneConfirm: string\r\n  ) => {\r\n    if (!cardNumber || !phoneConfirm) {\r\n      toast({\r\n        title: \"Datos incompletos\",\r\n        description: \"Debes ingresar el número de tarjeta y teléfono.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setUpdatingId(id);\r\n      const ref = doc(db, \"depositRequests\", id);\r\n      await updateDoc(ref, {\r\n        status: \"responded\",\r\n        cardNumber,\r\n        phoneConfirm,\r\n        responseAt: Timestamp.now(),\r\n      });\r\n\r\n      toast({\r\n        title: \"Solicitud respondida\",\r\n        description: \"Los datos fueron enviados correctamente.\",\r\n      });\r\n\r\n      // Actualizar el estado local\r\n      setRequests((prev) =>\r\n        prev.map((req) =>\r\n          req.id === id\r\n            ? { ...req, status: \"responded\", cardNumber, phoneConfirm }\r\n            : req\r\n        )\r\n      );\r\n    } catch (err: any) {\r\n      toast({\r\n        title: \"Error al responder\",\r\n        description: err.message || \"No se pudo actualizar la solicitud.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setUpdatingId(null);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <Loader2 className=\"animate-spin h-10 w-10 text-primary\" />\r\n        <span className=\"ml-4\">Cargando solicitudes...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (requests.length === 0) {\r\n    return (\r\n      <div className=\"text-center mt-20 text-muted-foreground\">\r\n        No hay solicitudes por mostrar.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-10 px-4\">\r\n      <h1 className=\"text-3xl font-bold mb-8 text-primary\">Solicitudes de Depósito</h1>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {requests.map((req) => (\r\n          <Card key={req.id}>\r\n            <CardHeader>\r\n              <CardTitle>{req.fullName}</CardTitle>\r\n              <CardDescription>\r\n                Modalidad: {req.modality} | CI: {req.ci} | Estado:{\" \"}\r\n                <span\r\n                  className={\r\n                    req.status === \"pending\" ? \"text-yellow-600\" : \"text-green-600\"\r\n                  }\r\n                >\r\n                  {req.status === \"pending\" ? \"Pendiente\" : \"Respondida\"}\r\n                </span>\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {req.status === \"responded\" ? (\r\n                <div className=\"text-sm space-y-1\">\r\n                  <p>\r\n                    <strong>Tarjeta:</strong> {req.cardNumber}\r\n                  </p>\r\n                  <p>\r\n                    <strong>Teléfono Transfermóvil:</strong> {req.phoneConfirm}\r\n                  </p>\r\n                  <p className=\"text-green-700 font-medium\">\r\n                    ✓ Datos enviados correctamente\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <form\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    const form = e.currentTarget;\r\n                    const card = (form.elements.namedItem(\"cardNumber\") as HTMLInputElement).value;\r\n                    const phone = (form.elements.namedItem(\"phoneConfirm\") as HTMLInputElement).value;\r\n                    handleResponder(req.id, card, phone);\r\n                  }}\r\n                  className=\"space-y-2\"\r\n                >\r\n                  <Input name=\"cardNumber\" placeholder=\"Número de tarjeta\" />\r\n                  <Input\r\n                    name=\"phoneConfirm\"\r\n                    placeholder=\"Teléfono Transfermóvil\"\r\n                  />\r\n                  <Button\r\n                    type=\"submit\"\r\n                    disabled={updatingId === req.id}\r\n                    className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n                  >\r\n                    {updatingId === req.id ? (\r\n                      <>\r\n                        <Loader2 className=\"animate-spin h-4 w-4 mr-2\" />\r\n                        Enviando...\r\n                      </>\r\n                    ) : (\r\n                      \"Responder solicitud\"\r\n                    )}\r\n                  </Button>\r\n                </form>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}