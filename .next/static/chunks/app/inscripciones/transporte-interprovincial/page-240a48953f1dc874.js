(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2435],{6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>s});var a=r(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}function l(...e){return a.useCallback(s(...e),e)}},6451:(e,t,r)=>{Promise.resolve().then(r.bind(r,73640))},9650:(e,t,r)=>{"use strict";let a;r.d(t,{yA:()=>u,j2:()=>d,db:()=>c,BV:()=>a,IG:()=>p});var n=r(23915),s=r(93004),l=r(35317),i=r(90858),o=r(20996);let u=0===(0,n.Dk)().length?(0,n.Wp)({apiKey:"AIzaSyBuA8vYdEeoAhtTkYz1mPfu8l_e8eIpeFY",authDomain:"ultimahora-8cdd7.firebaseapp.com",projectId:"ultimahora-8cdd7",storageBucket:"ultimahora-8cdd7.appspot.com",messagingSenderId:"64761922059",appId:"1:64761922059:web:97a111af73246f946e3d0e",measurementId:"G-E6QJLPFG3N"}):(0,n.Sx)(),d=(0,s.xI)(u),c=(0,l.aU)(u),p=(0,i.c7)(u);(0,o.TT)().then(e=>{if(e)try{a=(0,o.dG)(u)}catch(e){console.error("Error al iniciar Firebase Messaging:",e)}else console.warn("Firebase Messaging no soportado en este navegador.")}).catch(e=>{console.error("Error al verificar soporte de Messaging:",e)})},22436:(e,t,r)=>{"use strict";var a=r(12115),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,l=a.useEffect,i=a.useLayoutEffect,o=a.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,d=a[1];return i(function(){n.value=r,n.getSnapshot=t,u(n)&&d({inst:n})},[e,r,t]),l(function(){return u(n)&&d({inst:n}),e(function(){u(n)&&d({inst:n})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},39033:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var a=r(12115);function n(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}},46081:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,q:()=>s});var a=r(12115),n=r(95155);function s(e,t){let r=a.createContext(t),s=e=>{let{children:t,...s}=e,l=a.useMemo(()=>s,Object.values(s));return(0,n.jsx)(r.Provider,{value:l,children:t})};return s.displayName=e+"Provider",[s,function(n){let s=a.useContext(r);if(s)return s;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function l(e,t=[]){let r=[],s=()=>{let t=r.map(e=>a.createContext(e));return function(r){let n=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return s.scopeName=e,[function(t,s){let l=a.createContext(s),i=r.length;r=[...r,s];let o=t=>{let{scope:r,children:s,...o}=t,u=r?.[e]?.[i]||l,d=a.useMemo(()=>o,Object.values(o));return(0,n.jsx)(u.Provider,{value:d,children:s})};return o.displayName=t+"Provider",[o,function(r,n){let o=n?.[e]?.[i]||l,u=a.useContext(o);if(u)return u;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:a})=>{let n=r(e)[`__scope${a}`];return{...t,...n}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(s,...t)]}},49033:(e,t,r)=>{"use strict";e.exports=r(22436)},52712:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var a=r(12115),n=globalThis?.document?a.useLayoutEffect:()=>{}},54011:(e,t,r)=>{"use strict";r.d(t,{H4:()=>w,_V:()=>N,bL:()=>S});var a=r(12115),n=r(46081),s=r(39033),l=r(52712),i=r(63655),o=r(49033);function u(){return()=>{}}var d=r(95155),c="Avatar",[p,f]=(0,n.A)(c),[m,h]=p(c),x=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...n}=e,[s,l]=a.useState("idle");return(0,d.jsx)(m,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:(0,d.jsx)(i.sG.span,{...n,ref:t})})});x.displayName=c;var g="AvatarImage",v=a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:n,onLoadingStatusChange:c=()=>{},...p}=e,f=h(g,r),m=function(e,t){let{referrerPolicy:r,crossOrigin:n}=t,s=(0,o.useSyncExternalStore)(u,()=>!0,()=>!1),i=a.useRef(null),d=s?(i.current||(i.current=new window.Image),i.current):null,[c,p]=a.useState(()=>j(d,e));return(0,l.N)(()=>{p(j(d,e))},[d,e]),(0,l.N)(()=>{let e=e=>()=>{p(e)};if(!d)return;let t=e("loaded"),a=e("error");return d.addEventListener("load",t),d.addEventListener("error",a),r&&(d.referrerPolicy=r),"string"==typeof n&&(d.crossOrigin=n),()=>{d.removeEventListener("load",t),d.removeEventListener("error",a)}},[d,n,r]),c}(n,p),x=(0,s.c)(e=>{c(e),f.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==m&&x(m)},[m,x]),"loaded"===m?(0,d.jsx)(i.sG.img,{...p,ref:t,src:n}):null});v.displayName=g;var y="AvatarFallback",b=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:n,...s}=e,l=h(y,r),[o,u]=a.useState(void 0===n);return a.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(e)}},[n]),o&&"loaded"!==l.imageLoadingStatus?(0,d.jsx)(i.sG.span,{...s,ref:t}):null});function j(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}b.displayName=y;var S=x,N=v,w=b},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(52596),n=r(39688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},63655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>o,sG:()=>i});var a=r(12115),n=r(47650),s=r(99708),l=r(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,s.TL)(`Primitive.${t}`),n=a.forwardRef((e,a)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n?r:t,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function o(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}},73640:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(95155),n=r(12115),s=r(9650),l=r(35317),i=r(12108),o=r(87481);function u(){var e;let{data:t,status:r}=(0,i.useSession)(),{toast:u}=(0,o.d)(),d=null==t||null==(e=t.user)?void 0:e.email,[c,p]=(0,n.useState)(""),[f,m]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),[g,v]=(0,n.useState)(""),[y,b]=(0,n.useState)(""),[j,S]=(0,n.useState)(""),[N,w]=(0,n.useState)(!1),[E,T]=(0,n.useState)(""),[C,_]=(0,n.useState)(""),[k,A]=(0,n.useState)(""),[I,R]=(0,n.useState)("");if("loading"===r)return(0,a.jsx)("p",{children:"Cargando sesi\xf3n..."});if(!d)return(0,a.jsx)("p",{children:"Debes iniciar sesi\xf3n para publicar un viaje."});let O=async e=>{e.preventDefault();try{let e={choferId:d,pickup:c,dropoff:f,departureTime:h,arrivalTime:g,passengerCount:Number(y),phone:j,disponible:!0,createdAt:l.Dc.now(),regreso:N?{pickup:E,dropoff:C,departureTime:k,arrivalTime:I}:null};await (0,l.gS)((0,l.rJ)(s.db,"viajes_interprovinciales"),e),u({title:"âœ… Publicado",description:"Tu viaje fue publicado correctamente."}),p(""),m(""),x(""),v(""),b(""),S(""),w(!1),T(""),_(""),A(""),R("")}catch(e){u({title:"Error",description:e.message||"Hubo un problema al publicar el viaje.",variant:"destructive"})}};return(0,a.jsxs)("form",{onSubmit:O,className:"bg-white p-6 rounded-xl shadow-md max-w-md mx-auto mt-10 space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"Publicar Viaje Interprovincial"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"pickup",className:"block text-gray-700",children:"Lugar de salida:"}),(0,a.jsx)("input",{id:"pickup",type:"text",placeholder:"Ej: La Habana",value:c,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"dropoff",className:"block text-gray-700",children:"Lugar de destino:"}),(0,a.jsx)("input",{id:"dropoff",type:"text",placeholder:"Ej: Santiago de Cuba",value:f,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"departureTime",className:"block text-gray-700",children:"Hora de salida:"}),(0,a.jsx)("input",{id:"departureTime",type:"time",value:h,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"arrivalTime",className:"block text-gray-700",children:"Hora estimada de llegada:"}),(0,a.jsx)("input",{id:"arrivalTime",type:"time",value:g,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"passengerCount",className:"block text-gray-700",children:"Asientos disponibles:"}),(0,a.jsx)("input",{id:"passengerCount",type:"number",min:"1",placeholder:"Ej: 4",value:y,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-gray-700",children:"Tel\xe9fono de contacto:"}),(0,a.jsx)("input",{id:"phone",type:"tel",placeholder:"Ej: 555-123456",value:j,onChange:e=>S(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,a.jsx)("input",{type:"checkbox",checked:N,onChange:e=>w(e.target.checked)}),"\xbfHay viaje de regreso?"]})}),N&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"pickupRegreso",className:"block text-gray-700",children:"Salida (regreso):"}),(0,a.jsx)("input",{id:"pickupRegreso",type:"text",placeholder:"Ej: Santiago de Cuba",value:E,onChange:e=>T(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"dropoffRegreso",className:"block text-gray-700",children:"Destino (regreso):"}),(0,a.jsx)("input",{id:"dropoffRegreso",type:"text",placeholder:"Ej: La Habana",value:C,onChange:e=>_(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"horaSalidaRegreso",className:"block text-gray-700",children:"Hora de salida (regreso):"}),(0,a.jsx)("input",{id:"horaSalidaRegreso",type:"time",value:k,onChange:e=>A(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"horaLlegadaRegreso",className:"block text-gray-700",children:"Hora estimada de llegada (regreso):"}),(0,a.jsx)("input",{id:"horaLlegadaRegreso",type:"time",value:I,onChange:e=>R(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]})]}),(0,a.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-green-600 text-white rounded hover:bg-green-700",children:"Publicar Viaje"})]})}var d=r(91394);function c(){return(0,a.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center bg-background text-white p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4 mb-6",children:[(0,a.jsxs)(d.eu,{className:"w-16 h-16",children:[(0,a.jsx)(d.BK,{src:"/chofer-avatar.png",alt:"Chofer"}),(0,a.jsx)(d.q5,{children:"CH"})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Publicar Inscripci\xf3n FormularioViajesInterprovinciales "})]}),(0,a.jsx)(u,{})]})}},87481:(e,t,r)=>{"use strict";r.d(t,{d:()=>c,o:()=>d});var a=r(12115);let n=0,s=new Map,l=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e4);s.set(e,t)},i=[],o={toasts:[]};function u(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>l(e.id)),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};default:return e}})(o,e),i.forEach(e=>e(o))}function d(e){let t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:t});return u({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function c(){let[e,t]=a.useState(o);return a.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[]),{...e,toast:d,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},91394:(e,t,r)=>{"use strict";r.d(t,{BK:()=>o,eu:()=>i,q5:()=>u});var a=r(95155),n=r(12115),s=r(54011),l=r(59434);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...n})});i.displayName=s.bL.displayName;let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...n})});o.displayName=s._V.displayName;let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...n})});u.displayName=s.H4.displayName},99708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>i,Dc:()=>u,TL:()=>l});var a=r(12115),n=r(6101),s=r(95155);function l(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){var l;let e,i,o=(l=r,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),u=function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(u.ref=t?(0,n.t)(t,o):o),a.cloneElement(r,u)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...l}=e,i=a.Children.toArray(n),o=i.find(d);if(o){let e=o.props.children,n=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...l,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,s.jsx)(t,{...l,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var i=l("Slot"),o=Symbol("radix.slottable");function u(e){let t=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=o,t}function d(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}}},e=>{e.O(0,[2992,7138,4277,8248,9398,2108,8441,5964,7358],()=>e(e.s=6451)),_N_E=e.O()}]);