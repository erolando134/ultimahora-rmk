(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5815],{9650:(e,a,s)=>{"use strict";let t;s.d(a,{yA:()=>l,j2:()=>c,db:()=>m,BV:()=>t,IG:()=>u});var r=s(23915),o=s(93004),n=s(35317),i=s(90858),d=s(20996);let l=0===(0,r.Dk)().length?(0,r.Wp)({apiKey:"AIzaSyBuA8vYdEeoAhtTkYz1mPfu8l_e8eIpeFY",authDomain:"ultimahora-8cdd7.firebaseapp.com",projectId:"ultimahora-8cdd7",storageBucket:"ultimahora-8cdd7.appspot.com",messagingSenderId:"64761922059",appId:"1:64761922059:web:97a111af73246f946e3d0e",measurementId:"G-E6QJLPFG3N"}):(0,r.Sx)(),c=(0,o.xI)(l),m=(0,n.aU)(l),u=(0,i.c7)(l);(0,d.TT)().then(e=>{if(e)try{t=(0,d.dG)(l)}catch(e){console.error("Error al iniciar Firebase Messaging:",e)}else console.warn("Firebase Messaging no soportado en este navegador.")}).catch(e=>{console.error("Error al verificar soporte de Messaging:",e)})},30065:(e,a,s)=>{Promise.resolve().then(s.bind(s,35709))},35709:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var t=s(95155),r=s(12115),o=s(35317),n=s(9650),i=s(87481),d=s(12108);let l=()=>{var e;let[a,s]=(0,r.useState)({nombre:"",telefono:"",destino:"",fecha:"",hora:"",cantidadPasajeros:"",descripcion:""}),{toast:l}=(0,i.d)(),c=(0,d.useSession)(),m=null==c?void 0:c.data,u=null==m||null==(e=m.user)?void 0:e.email,p=e=>{let{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))},h=async e=>{if(e.preventDefault(),!a.nombre||!a.telefono||!a.destino||!a.fecha||!a.hora||!a.cantidadPasajeros||!u)return void l({title:"Campos incompletos",description:"Completa todos los campos y aseg\xfarate de estar logueado.",variant:"destructive"});try{await (0,o.gS)((0,o.rJ)(n.db,"solicitar_datos"),{userId:u,nombre:a.nombre,telefono:a.telefono,destino:a.destino,fecha:a.fecha,hora:a.hora,cantidadPasajeros:a.cantidadPasajeros,descripcion:a.descripcion,tipo:"excursiones",estado:"pendiente",createdAt:o.Dc.now()}),l({title:"Solicitud enviada",description:"El administrador te responder\xe1 pronto."}),s({nombre:"",telefono:"",destino:"",fecha:"",hora:"",cantidadPasajeros:"",descripcion:""})}catch(e){l({title:"Error",description:e.message||"No se pudo enviar la solicitud.",variant:"destructive"})}};return(0,t.jsxs)("main",{className:"min-h-screen bg-white text-black p-6 max-w-xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Inscripci\xf3n - Excursiones Programadas"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4 bg-gray-100 p-6 rounded shadow",children:[(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Nombre completo"}),(0,t.jsx)("input",{type:"text",name:"nombre",value:a.nombre,onChange:p,required:!0,className:"w-full px-4 py-2 border rounded mt-1"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Tel\xe9fono"}),(0,t.jsx)("input",{type:"tel",name:"telefono",value:a.telefono,onChange:p,required:!0,className:"w-full px-4 py-2 border rounded mt-1"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Destino de la excursi\xf3n"}),(0,t.jsx)("input",{type:"text",name:"destino",value:a.destino,onChange:p,required:!0,className:"w-full px-4 py-2 border rounded mt-1"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Fecha"}),(0,t.jsx)("input",{type:"date",name:"fecha",value:a.fecha,onChange:p,required:!0,className:"w-full px-4 py-2 border rounded mt-1"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Hora"}),(0,t.jsx)("input",{type:"time",name:"hora",value:a.hora,onChange:p,required:!0,className:"w-full px-4 py-2 border rounded mt-1"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Cantidad de pasajeros"}),(0,t.jsx)("input",{type:"number",name:"cantidadPasajeros",value:a.cantidadPasajeros,onChange:p,required:!0,min:1,className:"w-full px-4 py-2 border rounded mt-1"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Descripci\xf3n adicional"}),(0,t.jsx)("textarea",{name:"descripcion",value:a.descripcion,onChange:p,rows:4,className:"w-full px-4 py-2 border rounded mt-1"})]}),(0,t.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded w-full hover:bg-green-700",children:"Enviar Inscripci\xf3n"})]}),(0,t.jsxs)("p",{className:"text-sm text-center mt-4 text-gray-600",children:["\uD83D\uDCB0 Dep\xf3sito inicial requerido: ",(0,t.jsx)("strong",{children:"1000 CUP"}),". Se descontar\xe1 el ",(0,t.jsx)("strong",{children:"10%"})," por cada excursi\xf3n realizada."]})]})}},87481:(e,a,s)=>{"use strict";s.d(a,{d:()=>m,o:()=>c});var t=s(12115);let r=0,o=new Map,n=e=>{if(o.has(e))return;let a=setTimeout(()=>{o.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e4);o.set(e,a)},i=[],d={toasts:[]};function l(e){d=((e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?n(s):e.toasts.forEach(e=>n(e.id)),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)};default:return e}})(d,e),i.forEach(e=>e(d))}function c(e){let a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:a});return l({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,a]=t.useState(d);return t.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[]),{...e,toast:c,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}}},e=>{e.O(0,[2992,7138,8248,9398,2108,8441,5964,7358],()=>e(e.s=30065)),_N_E=e.O()}]);