(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{6101:(e,r,t)=>{"use strict";t.d(r,{s:()=>i,t:()=>s});var a=t(12115);function n(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function s(...e){return r=>{let t=!1,a=e.map(e=>{let a=n(e,r);return t||"function"!=typeof a||(t=!0),a});if(t)return()=>{for(let r=0;r<a.length;r++){let t=a[r];"function"==typeof t?t():n(e[r],null)}}}}function i(...e){return a.useCallback(s(...e),e)}},9650:(e,r,t)=>{"use strict";let a;t.d(r,{yA:()=>c,j2:()=>d,db:()=>u,BV:()=>a,IG:()=>f});var n=t(23915),s=t(93004),i=t(35317),l=t(90858),o=t(20996);let c=0===(0,n.Dk)().length?(0,n.Wp)({apiKey:"AIzaSyBuA8vYdEeoAhtTkYz1mPfu8l_e8eIpeFY",authDomain:"ultimahora-8cdd7.firebaseapp.com",projectId:"ultimahora-8cdd7",storageBucket:"ultimahora-8cdd7.appspot.com",messagingSenderId:"64761922059",appId:"1:64761922059:web:97a111af73246f946e3d0e",measurementId:"G-E6QJLPFG3N"}):(0,n.Sx)(),d=(0,s.xI)(c),u=(0,i.aU)(c),f=(0,l.c7)(c);(0,o.TT)().then(e=>{if(e)try{a=(0,o.dG)(c)}catch(e){console.error("Error al iniciar Firebase Messaging:",e)}else console.warn("Firebase Messaging no soportado en este navegador.")}).catch(e=>{console.error("Error al verificar soporte de Messaging:",e)})},22844:(e,r,t)=>{Promise.resolve().then(t.bind(t,40905))},30285:(e,r,t)=>{"use strict";t.d(r,{$:()=>c,r:()=>o});var a=t(95155),n=t(12115),s=t(99708),i=t(74466),l=t(59434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background text-primary hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,r)=>{let{className:t,variant:n,size:i,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:t})),ref:r,...d})});c.displayName="Button"},37648:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},40157:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(12115);let n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...f}=e;return(0,a.createElement)("svg",{ref:r,...s,width:i,height:i,stroke:t,strokeWidth:o?24*Number(l)/Number(i):l,className:n("lucide",c),...f},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),l=(e,r)=>{let t=(0,a.forwardRef)((t,s)=>{let{className:l,...o}=t;return(0,a.createElement)(i,{ref:s,iconNode:r,className:n("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),l),...o})});return t.displayName="".concat(e),t}},40905:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(95155),n=t(12115),s=t(9650),i=t(51397),l=t(35317),o=t(66695),c=t(30285),d=t(87481),u=t(83662),f=t(37648),p=t(49940);function m(){let[e,r]=(0,n.useState)([]),[t,m]=(0,n.useState)(!0),{user:h}=(0,i.A)();(0,n.useEffect)(()=>{let e=(0,l.aQ)((0,l.rJ)(s.db,"viajes_interprovinciales"),e=>{r(e.docs.map(e=>{let r=e.data();return{id:e.id,pickup:r.pickup||"",dropoff:r.dropoff||"",departureTime:r.departureTime||"",arrivalTime:r.arrivalTime||"",phone:r.phone||"",choferEmail:r.choferEmail||"Desconocido"}})),m(!1)});return()=>e()},[]);let v=async e=>{try{if(!(null==h?void 0:h.email))return void(0,d.o)({title:"Error",description:"Debes iniciar sesi\xf3n para reservar.",variant:"destructive"});await (0,l.gS)((0,l.rJ)(s.db,"reservas_viajes"),{viajeId:e.id,choferEmail:e.choferEmail,pickup:e.pickup,dropoff:e.dropoff,departureTime:e.departureTime,arrivalTime:e.arrivalTime,emailCliente:h.email,fechaReserva:l.Dc.now(),estado:"pendiente"}),(0,d.o)({title:"✅ Reserva enviada",description:"El chofer ser\xe1 notificado."})}catch(e){console.error("Error al reservar:",e),(0,d.o)({title:"❌ Error",description:"Hubo un problema al reservar.",variant:"destructive"})}};return(0,a.jsxs)("main",{className:"p-6 bg-white min-h-screen text-black",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-6 text-green-700",children:"Viajes Interprovinciales Disponibles"}),t?(0,a.jsx)("p",{className:"text-center",children:"Cargando viajes..."}):0===e.length?(0,a.jsx)("p",{className:"text-center text-gray-500",children:"No hay viajes publicados por el momento."}):(0,a.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,a.jsxs)(o.Zp,{className:"bg-gray-50",children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)(o.ZB,{className:"text-lg font-bold text-green-800 flex gap-2 items-center",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),e.pickup," → ",e.dropoff]})}),(0,a.jsxs)(o.Wu,{className:"space-y-1 text-sm text-gray-700",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(f.A,{className:"inline w-4 h-4"})," ",(0,a.jsx)("strong",{children:"Salida:"})," ",e.departureTime]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(f.A,{className:"inline w-4 h-4"})," ",(0,a.jsx)("strong",{children:"Llegada:"})," ",e.arrivalTime]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(p.A,{className:"inline w-4 h-4"})," ",(0,a.jsx)("strong",{children:"Chofer:"})," ",e.choferEmail]}),(0,a.jsx)(c.$,{className:"mt-3 bg-green-600 hover:bg-green-500 text-white",onClick:()=>v(e),children:"Reservar este viaje"})]})]},e.id))})]})}},49940:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(40157).A)("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},51397:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(12115),n=t(93004),s=t(9650);let i=(0,n.xI)(s.yA);function l(){let[e,r]=(0,a.useState)(null),[t,s]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,n.hg)(i,e=>{r(e),s(!1)});return()=>e()},[]),{user:e,loading:t}}},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var a=t(52596),n=t(39688);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,a.$)(r))}},66695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>u});var a=t(95155),n=t(12115),s=t(59434);let i=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});i.displayName="Card";let l=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...n})});d.displayName="CardContent";let u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...n})});u.displayName="CardFooter"},74466:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var a=t(52596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.$,i=(e,r)=>t=>{var a;if((null==r?void 0:r.variants)==null)return s(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:l}=r,o=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],a=null==l?void 0:l[e];if(null===r)return null;let s=n(r)||n(a);return i[e][s]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e},{});return s(e,o,null==r||null==(a=r.compoundVariants)?void 0:a.reduce((e,r)=>{let{class:t,className:a,...n}=r;return Object.entries(n).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...c}[r]):({...l,...c})[r]===t})?[...e,t,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},83662:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(40157).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},87481:(e,r,t)=>{"use strict";t.d(r,{d:()=>u,o:()=>d});var a=t(12115);let n=0,s=new Map,i=e=>{if(s.has(e))return;let r=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e4);s.set(e,r)},l=[],o={toasts:[]};function c(e){o=((e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>i(e.id)),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)};default:return e}})(o,e),l.forEach(e=>e(o))}function d(e){let r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:e=>{e||t()}}}),{id:r,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,r]=a.useState(o);return a.useEffect(()=>(l.push(r),()=>{let e=l.indexOf(r);e>-1&&l.splice(e,1)}),[]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},99708:(e,r,t)=>{"use strict";t.d(r,{DX:()=>l,Dc:()=>c,TL:()=>i});var a=t(12115),n=t(6101),s=t(95155);function i(e){let r=function(e){let r=a.forwardRef((e,r)=>{let{children:t,...s}=e;if(a.isValidElement(t)){var i;let e,l,o=(i=t,(l=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(l=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),c=function(e,r){let t={...r};for(let a in r){let n=e[a],s=r[a];/^on[A-Z]/.test(a)?n&&s?t[a]=(...e)=>{let r=s(...e);return n(...e),r}:n&&(t[a]=n):"style"===a?t[a]={...n,...s}:"className"===a&&(t[a]=[n,s].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==a.Fragment&&(c.ref=r?(0,n.t)(r,o):o),a.cloneElement(t,c)}return a.Children.count(t)>1?a.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=a.forwardRef((e,t)=>{let{children:n,...i}=e,l=a.Children.toArray(n),o=l.find(d);if(o){let e=o.props.children,n=l.map(r=>r!==o?r:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...i,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,s.jsx)(r,{...i,ref:t,children:n})});return t.displayName=`${e}.Slot`,t}var l=i("Slot"),o=Symbol("radix.slottable");function c(e){let r=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});return r.displayName=`${e}.Slottable`,r.__radixId=o,r}function d(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}}},e=>{e.O(0,[2992,7138,4277,8248,9398,8441,5964,7358],()=>e(e.s=22844)),_N_E=e.O()}]);