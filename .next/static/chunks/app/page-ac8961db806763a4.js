(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{6654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return r}});let a=n(12115);function r(e,t){let n=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=n.current;e&&(n.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(n.current=o(e,a)),t&&(r.current=o(t,a))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},18242:e=>{e.exports={contenedor:"AgenteUltimaHora_contenedor__Z51g5",imagenClickable:"AgenteUltimaHora_imagenClickable___XEzj",burbujaTexto:"AgenteUltimaHora_burbujaTexto__Vpfbs",panelEmergente:"AgenteUltimaHora_panelEmergente__lupz0",taxi:"AgenteUltimaHora_taxi___CDKP"}},31318:(e,t,n)=>{Promise.resolve().then(n.bind(n,49954))},49954:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var a=n(95155),r=n(12115),o=n(35695),s=n(66766),i=n(90869),l=n(82885),c=n(97494),u=n(80845),d=n(27351),m=n(51508);class p extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,d.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f(e){let{children:t,isPresent:n,anchorX:o,root:s}=e,i=(0,r.useId)(),l=(0,r.useRef)(null),c=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,r.useContext)(m.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:r,right:d}=c.current;if(n||!l.current||!e||!t)return;l.current.dataset.motionPopId=i;let m=document.createElement("style");u&&(m.nonce=u);let p=null!=s?s:document.head;return p.appendChild(m),m.sheet&&m.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===o?"left: ".concat(r):"right: ".concat(d),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{p.contains(m)&&p.removeChild(m)}},[n]),(0,a.jsx)(p,{isPresent:n,childRef:l,sizeRef:c,children:r.cloneElement(t,{ref:l})})}let x=e=>{let{children:t,initial:n,isPresent:o,onExitComplete:s,custom:i,presenceAffectsLayout:c,mode:d,anchorX:m,root:p}=e,x=(0,l.M)(h),g=(0,r.useId)(),b=!0,y=(0,r.useMemo)(()=>(b=!1,{id:g,initial:n,isPresent:o,custom:i,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;s&&s()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[o,x,s]);return c&&b&&(y={...y}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[o]),r.useEffect(()=>{o||x.size||!s||s()},[o]),"popLayout"===d&&(t=(0,a.jsx)(f,{isPresent:o,anchorX:m,root:p,children:t})),(0,a.jsx)(u.t.Provider,{value:y,children:t})};function h(){return new Map}var g=n(32082);let b=e=>e.key||"";function y(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let j=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:s,presenceAffectsLayout:u=!0,mode:d="sync",propagate:m=!1,anchorX:p="left",root:f}=e,[h,j]=(0,g.xQ)(m),v=(0,r.useMemo)(()=>y(t),[t]),_=m&&!h?[]:v.map(b),w=(0,r.useRef)(!0),C=(0,r.useRef)(v),E=(0,l.M)(()=>new Map),[N,P]=(0,r.useState)(v),[R,k]=(0,r.useState)(v);(0,c.E)(()=>{w.current=!1,C.current=v;for(let e=0;e<R.length;e++){let t=b(R[e]);_.includes(t)?E.delete(t):!0!==E.get(t)&&E.set(t,!1)}},[R,_.length,_.join("-")]);let M=[];if(v!==N){let e=[...v];for(let t=0;t<R.length;t++){let n=R[t],a=b(n);_.includes(a)||(e.splice(t,0,n),M.push(n))}return"wait"===d&&M.length&&(e=M),k(y(e)),P(v),null}let{forceRender:T}=(0,r.useContext)(i.L);return(0,a.jsx)(a.Fragment,{children:R.map(e=>{let t=b(e),r=(!m||!!h)&&(v===R||_.includes(t));return(0,a.jsx)(x,{isPresent:r,initial:(!w.current||!!o)&&void 0,custom:n,presenceAffectsLayout:u,mode:d,root:f,onExitComplete:r?void 0:()=>{if(!E.has(t))return;E.set(t,!0);let e=!0;E.forEach(t=>{t||(e=!1)}),e&&(null==T||T(),k(C.current),m&&(null==j||j()),s&&s())},anchorX:p,children:e},t)})})};var v=n(43463),_=n(18242),w=n.n(_);function C(e){let{onClose:t}=e,[n,o]=(0,r.useState)([{autor:"bot",texto:"\xa1Hola compay! \xbfEn qu\xe9 puedo ayudarte hoy?"}]),[s,i]=(0,r.useState)(""),l=()=>{s.trim()&&(o([...n,{autor:"usuario",texto:s},{autor:"bot",texto:"Gracias por tu mensaje. Pronto te ayudaremos."}]),i(""))};return(0,a.jsxs)("div",{className:"bg-white shadow-2xl rounded-lg p-4 max-w-[300px] w-full h-[360px] flex flex-col justify-between relative border border-gray-200",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-sm font-bold",children:"❌"}),(0,a.jsx)("div",{className:"overflow-y-auto space-y-2 mb-4 pr-1 max-h-[250px]",children:n.map((e,t)=>(0,a.jsx)("div",{className:"text-sm p-2 rounded max-w-[90%] ".concat("bot"===e.autor?"bg-gray-100 text-black self-start":"bg-blue-600 text-white self-end"),children:e.texto},t))}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Escribe tu mensaje",className:"flex-1 border rounded px-2 py-1 text-sm",value:s,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&l()}),(0,a.jsx)("button",{onClick:l,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Enviar"})]})]})}function E(){let[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{sessionStorage.getItem("choferAnimado")?t(!0):(setTimeout(()=>t(!0),1e3),sessionStorage.setItem("choferAnimado","true"))},[]),(0,a.jsxs)("div",{className:w().contenedor,children:[(0,a.jsx)(j,{children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.P.img,{src:"/images/taxi.png",alt:"Taxi llegando",className:w().taxi,initial:{x:"-100%"},animate:{x:0},transition:{duration:2,ease:"easeInOut"}}),(0,a.jsxs)(v.P.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0},transition:{delay:2,duration:1},className:w().imagenClickable,onClick:()=>{o(!n)},children:[(0,a.jsx)("img",{src:"/images/tigre-taxi-banner.png",alt:"Chofer AI \xdaltima Hora",style:{width:"100%",borderRadius:12}}),(0,a.jsx)(v.P.div,{className:w().burbujaTexto,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2.5},children:"\uD83D\uDC2F “\xa1Compay! \xbfNecesit\xe1s ayuda? Haz clic aqu\xed.”"})]})]})}),(0,a.jsx)(j,{children:n&&(0,a.jsx)(v.P.div,{className:w().panelEmergente,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:(0,a.jsx)(C,{onClose:()=>o(!1)})})})]})}function N(){let e=(0,o.useRouter)(),[t,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{console.log("\uD83D\uDCCD Ubicaci\xf3n obtenida:",e.coords.latitude,e.coords.longitude)},e=>{console.error("❌ Error al obtener la ubicaci\xf3n:",e.message)});let t=setTimeout(()=>n(!0),4e3),a=setTimeout(()=>e.push("/dashboard"),5e3);return()=>{clearTimeout(t),clearTimeout(a)}},[e]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-4 md:p-8 min-h-screen transition-opacity duration-1000 ".concat(t?"opacity-0":"opacity-100"),children:[(0,a.jsx)(E,{}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(s.default,{src:"/logo.png",alt:"Logo UltimaHora RMK",width:150,height:150,className:"rounded-full mx-auto shadow-2xl animate-spin-y",unoptimized:!0})}),(0,a.jsxs)("div",{className:"mb-6 text-center",children:[(0,a.jsx)("h1",{className:"text-5xl md:text-7xl font-bold text-primary drop-shadow-lg",children:"UltimaHora RMK"}),(0,a.jsx)("p",{className:"text-lg md:text-xl text-foreground/80 mt-6 max-w-3xl mx-auto leading-relaxed",children:"Tu soluci\xf3n integral de transporte en Cuba. Conectamos pasajeros con conductores para ofrecerte taxis urbanos \xe1giles, c\xf3modas reservas para viajes interprovinciales, emocionantes excursiones, transporte de carga seguro, y un eficiente servicio de mensajer\xeda. \xa1Todo lo que necesitas para moverte o enviar, al alcance de tu mano! Adicionalmente, explora nuestra tienda para veh\xedculos, piezas y partes, y oportunidades de empleo para ch\xf3feres."})]}),(0,a.jsx)("footer",{className:"absolute bottom-4 text-center w-full text-foreground/50 text-sm",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," UltimaHora RMK. Todos los derechos reservados."]})})]})}}},e=>{e.O(0,[8337,3063,4664,8441,5964,7358],()=>e(e.s=31318)),_N_E=e.O()}]);