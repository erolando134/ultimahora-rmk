(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3591],{4913:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(40157).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},9650:(e,r,t)=>{"use strict";let a;t.d(r,{yA:()=>o,j2:()=>c,db:()=>m,BV:()=>a,IG:()=>u});var s=t(23915),i=t(93004),n=t(35317),d=t(90858),l=t(20996);let o=0===(0,s.Dk)().length?(0,s.Wp)({apiKey:"AIzaSyBuA8vYdEeoAhtTkYz1mPfu8l_e8eIpeFY",authDomain:"ultimahora-8cdd7.firebaseapp.com",projectId:"ultimahora-8cdd7",storageBucket:"ultimahora-8cdd7.appspot.com",messagingSenderId:"64761922059",appId:"1:64761922059:web:97a111af73246f946e3d0e",measurementId:"G-E6QJLPFG3N"}):(0,s.Sx)(),c=(0,i.xI)(o),m=(0,n.aU)(o),u=(0,d.c7)(o);(0,l.TT)().then(e=>{if(e)try{a=(0,l.dG)(o)}catch(e){console.error("Error al iniciar Firebase Messaging:",e)}else console.warn("Firebase Messaging no soportado en este navegador.")}).catch(e=>{console.error("Error al verificar soporte de Messaging:",e)})},40157:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var a=t(12115);let s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:l,className:o="",children:c,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:r,...i,width:n,height:n,stroke:t,strokeWidth:l?24*Number(d)/Number(n):d,className:s("lucide",o),...u},[...m.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),d=(e,r)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:d,...l}=t;return(0,a.createElement)(n,{ref:i,iconNode:r,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),d),...l})});return t.displayName="".concat(e),t}},45543:(e,r,t)=>{Promise.resolve().then(t.bind(t,64341))},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var a=t(52596),s=t(39688);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},64341:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(95155),s=t(12115),i=t(12108),n=t(9650),d=t(35317),l=t(66695),o=t(4913);function c(){var e;let{data:r}=(0,i.useSession)(),t=null==r||null==(e=r.user)?void 0:e.email,[c,m]=(0,s.useState)([]),[u,p]=(0,s.useState)({}),[f,h]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{if(!t)return;let e=(await (0,d.GG)((0,d.P)((0,d.rJ)(n.db,"viajes_interprovinciales"),(0,d._M)("choferEmail","==",t)))).docs.map(e=>({id:e.id,destino:e.data().dropoff||"",salida:e.data().pickup||""})),r={},a=e.map(e=>(r[e.id]=e,e.id));p(r),m((await (0,d.GG)((0,d.P)((0,d.rJ)(n.db,"reservas_interprovinciales"),(0,d._M)("viajeId","in",a)))).docs.map(e=>{let r=e.data();return{id:e.id,nombre:r.nombre,telefono:r.telefono,asientos:r.asientos,viajeId:r.viajeId}})),h(!1)})()},[t]),(0,a.jsxs)("main",{className:"p-6 bg-white min-h-screen text-black",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-6 text-green-700",children:"Reservas Recibidas"}),f?(0,a.jsx)("div",{className:"flex justify-center mt-10",children:(0,a.jsx)(o.A,{className:"animate-spin h-8 w-8 text-primary"})}):0===c.length?(0,a.jsx)("p",{className:"text-center text-muted-foreground",children:"A\xfan no has recibido reservas en tus viajes."}):(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:c.map(e=>{let r=u[e.viajeId];return(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{children:[e.nombre," â€” ",e.asientos," asiento(s)"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Tel\xe9fono:"})," ",e.telefono]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Desde:"})," ",r.salida]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Hacia:"})," ",r.destino]})]})]})]},e.id)})})]})}},66695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>d,wL:()=>m});var a=t(95155),s=t(12115),i=t(59434);let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});n.displayName="Card";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...s})});d.displayName="CardHeader";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});l.displayName="CardTitle";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent";let m=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",t),...s})});m.displayName="CardFooter"}},e=>{e.O(0,[2992,7138,4277,8248,9398,2108,8441,5964,7358],()=>e(e.s=45543)),_N_E=e.O()}]);